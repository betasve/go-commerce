#!/bin/bash

# Check if a parameter is provided
if [ -z "$1" ]; then
  echo "Usage: $0 <action>"
  exit 1
fi

# Assign the first parameter to a variable
action=$1

# Define the base URL
base_url="http://localhost:4000"

# Perform actions based on the parameter value
case $action in
  create-user)
    body='{"email":"example@email.com","password": "pass123","name":"Test User"}'
    curl -X POST "$base_url/v1/users" -H "Content-Type: application/json" -d "$body"
    ;;
  list-users)
    curl -X GET "$base_url/movies"
    ;;
  delete-user)
    curl -X DELETE "$base_url/movies/1"
    ;;
  *)
    echo "Invalid action. Available actions: create-user, list-users, delete-user"
    exit 1
    ;;
esac

